<!DOCTYPE html>
<html>
<head>
    <title>로그아웃</title>
</head>
<body>
    <h1>로그아웃</h1>
    <p>로그아웃 하시겠습니까?</p>
    <button id="confirmLogoutButton">확인</button>
    <button id="cancelLogoutButton">취소</button>
    <a href="test.html">정보수정</a>
    <script>
        document.getElementById('confirmLogoutButton').addEventListener('click', function() {
            fetch('http://localhost:8080/api/info/logout', {
                method: 'POST'
            })
            .then(response => response.json())
            .then(data => {
                localStorage.removeItem('token');
                alert(data.message);
                window.location.href = 'http://127.0.0.1:5501/login.html'; // 로그인 페이지로 이동
            })
            .catch(error => {
                console.error('로그아웃 요청 실패:', error);
                alert('로그아웃 요청 실패');
            });
        });

        document.getElementById('cancelLogoutButton').addEventListener('click', function() {
            window.location.href = '/user'; // 사용자 페이지로 이동 (또는 이전 페이지)
        });
    </script>
</body>
</html>